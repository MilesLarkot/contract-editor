import type { Metadata } from "next";
import localFont from "next/font/local";
import "./globals.css";
import {
  SidebarProvider,
  Sidebar,
  SidebarContent,
  SidebarGroup,
  SidebarGroupContent,
  SidebarGroupLabel,
  SidebarMenu,
  SidebarMenuItem,
  SidebarMenuButton,
  SidebarTrigger,
} from "@/components/ui/sidebar";
import { Book, BookDashed } from "lucide-react";

const geistSans = localFont({
  src: "./fonts/GeistVF.woff",
  variable: "--font-geist-sans",
  weight: "100 900",
});
const geistMono = localFont({
  src: "./fonts/GeistMonoVF.woff",
  variable: "--font-geist-mono",
  weight: "100 900",
});

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="en">
      <body
        className={`${geistSans.variable} ${geistMono.variable} antialiased`}
      >
        <SidebarProvider /* defaultOpen | open | onOpenChange available */>
          {/* side‑by‑side layout */}
          <div className="flex min-h-screen w-full">
            {/* 1️⃣ make it collapsible */}
            <Sidebar collapsible="icon" /* "offcanvas" to slide in/out */>
              <SidebarContent>
                <SidebarGroup className="bg-primary text-primary-foreground h-full">
                  <SidebarGroupLabel className="text-white">
                    Contract Editor
                  </SidebarGroupLabel>
                  <SidebarGroupContent>
                    <SidebarMenu>
                      <SidebarMenuItem>
                        <SidebarMenuButton asChild>
                          <a href="/contracts/">
                            <Book />
                            <span>Contracts</span>
                          </a>
                        </SidebarMenuButton>
                      </SidebarMenuItem>
                      <SidebarMenuItem>
                        <SidebarMenuButton asChild>
                          <a href="/templates/">
                            <BookDashed />
                            <span>Templates</span>
                          </a>
                        </SidebarMenuButton>
                      </SidebarMenuItem>
                    </SidebarMenu>
                  </SidebarGroupContent>
                </SidebarGroup>
              </SidebarContent>
            </Sidebar>

            {/* main content */}
            <main className="flex-1">
              {/* 2️⃣ trigger – place it wherever you like */}
              <header className="h-16 flex items-center border-b px-4 gap-2">
                <SidebarTrigger className="md:hidden inline-flex" />
                {/* default trigger */}
                {/* or build your own:
                    const { toggleSidebar } = useSidebar();
                    <Button onClick={toggleSidebar}><Menu /></Button>
                 */}
              </header>

              {children}
            </main>
          </div>
        </SidebarProvider>
      </body>
    </html>
  );
}
